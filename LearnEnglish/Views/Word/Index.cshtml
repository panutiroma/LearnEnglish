@using LearnEnglish.Infrastructure

@model IEnumerable<Domain.Word>

@{
    ViewBag.Title = "Index";
}

<script src="@Url.Content("/Scripts/jquery.js")"></script>
<script src="@Url.Content("/Scripts/app/HideTranslation.js")"></script>
<link type="text/css" rel="stylesheet" href="@Url.Content("/Content/wordListStyle.css")" />

<div class="panel panel-default">
    <div class="panel-heading">
        <h3>
            Words in English
        </h3>
        <br />
        @using (Html.BeginForm("Add", "Word", FormMethod.Get))
        {
            <input type="submit" class="btn btn-success btn-xs" value="Add new word" />
        }
    </div>
    <div class="panel-body">
        <table class="words-list table table-striped table-condensed table-bordered">
            <tr>
                <th class="text-center" width="60%">
                    Word
                </th>
                <th class="text-center">
                    Phonetic
                    <br />
                    <div class="region uk-col">UK</div>
                    <div class="region us-col">US</div>
                </th>
                <th class="text-center">
                    Level
                </th>
            </tr>

            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td class="text-left vr-point vr-list-row">
                            <b>@item.Title</b>
                            <span class="collapse-img">
                                <img src="/Content/Images/sort_down_red.png" alt="Click to see translated" />
                            </span>
                        </td>
                        <td class="text-left">
                            <div class="region uk-col sound">
                                @item.UkPhonic
                                <img src="/Content/Images/kmix22.png" alt="Click to listen pronunciation" media="@item.UkPronunciationUrl"/>
                            </div>
                            <div class="region us-col sound">
                                @item.UsPhonic
                                <img src="/Content/Images/kmix22.png" alt="Click to listen pronunciation" media="@item.UsPronunciationUrl"/>
                            </div>
                        </td>
                        <td class="text-center vr-point vr-list-row">
                            @for (var i = 0; i < 5; i++)
                            {
                                if (i < item.Level)
                                {
                                    <img src="/Content/Images/star.png" alt=""/>
                                }
                                else
                                {
                                    <img src="/Content/Images/star_wb.png" alt=""/>
                                }
                            }
                        </td>
                    </tr>
                    <tr class="vr-hiden">
                        <td>
                            @Html.Raw(HtmlExtensions.TranslationToHtml(item.Translation))
                        </td>
                        <td class="tdEdit text-right" colspan="2">
                            <span>
                                @{ string url = "https://translate.google.com/#en/ro/" + item.Title; }
                                <a href="@url" target="_blank">translate.google.com</a>
                            </span>
                            <span>
                                @using (Html.BeginForm("Edit", "Word", FormMethod.Get))
                                {
                                    @Html.Hidden("Id", item.Id)
                                    <input type="submit" class="btn btn-default btn-xs" value="Edit" />
                                }
                            </span>
                        </td>
                    </tr>
                }
            }
        </table>
    </div>
</div>

<iframe id="pronIframe" src=""></iframe>
